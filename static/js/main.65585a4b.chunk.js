(this["webpackJsonptime-management-eb"]=this["webpackJsonptime-management-eb"]||[]).push([[0],{16:function(e,t,r){e.exports={formWrapper:"SignUpForm_formWrapper__1a_Rh",formTitle:"SignUpForm_formTitle__fcwvQ",form:"SignUpForm_form__3PT14",formInputField:"SignUpForm_formInputField__2DFuN",formInput:"SignUpForm_formInput__1gSc2",textarea:"SignUpForm_textarea__1qHd0",customSelect:"SignUpForm_customSelect__3AM-U",formCheck:"SignUpForm_formCheck__3t-MY",formCheckmark:"SignUpForm_formCheckmark__uYkoo",formBtn:"SignUpForm_formBtn__UxwuY",terms:"SignUpForm_terms__1Brv0"}},17:function(e,t,r){e.exports={formWrapper:"EditForm_formWrapper__1HcV1",formTitle:"EditForm_formTitle__21pnQ",form:"EditForm_form__kl-k3",formInputField:"EditForm_formInputField__3mTcE",formInput:"EditForm_formInput__2QxIe",textarea:"EditForm_textarea__3ST6T",customSelect:"EditForm_customSelect__2IAJ6",formCheck:"EditForm_formCheck__TmM2T",formCheckmark:"EditForm_formCheckmark__M0wfe",formBtn:"EditForm_formBtn__30Hf2",terms:"EditForm_terms__27pcp"}},24:function(e,t,r){e.exports={formWrapper:"AddLog_formWrapper__3aRGd",formTitle:"AddLog_formTitle__2O_CS",form:"AddLog_form__32D8n",formInputField:"AddLog_formInputField__3jaQC",formInput:"AddLog_formInput__3aLMk",textarea:"AddLog_textarea__3r0_x",customSelect:"AddLog_customSelect__1rSIT",formCheck:"AddLog_formCheck__3VHgo",formCheckmark:"AddLog_formCheckmark__2tcPG",formBtn:"AddLog_formBtn__1Cx-y",terms:"AddLog_terms__3SIth"}},25:function(e,t,r){e.exports={formWrapper:"SignInForm_formWrapper__OVVvO",formTitle:"SignInForm_formTitle__fP-ex",form:"SignInForm_form__BoK_o",formInputField:"SignInForm_formInputField__391ph",formInput:"SignInForm_formInput__b9fAM",textarea:"SignInForm_textarea__1NFCZ",customSelect:"SignInForm_customSelect__3MBQB",formCheck:"SignInForm_formCheck__1Mowv",formCheckmark:"SignInForm_formCheckmark__2lYaE",formBtn:"SignInForm_formBtn__212PP",terms:"SignInForm_terms__BQ15e"}},35:function(e,t,r){e.exports={footer:"Footer_footer__30owQ"}},50:function(e,t,r){e.exports={heroContainer:"Hero_heroContainer__37zsM","hero-container":"Hero_hero-container__W1IuL"}},58:function(e,t,r){},59:function(e,t,r){},94:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(22),c=r.n(s),o=r(8),i=(r(58),r(59),r(60),r(10)),l=r(4),d=r(52),u=r(5),j=r(0),m=["component"],b=function(e){var t=e.component,r=Object(d.a)(e,m),n=Object(u.c)((function(e){return e.auth})),a=n.isLoggedIn,s=n.user;return Object(j.jsx)(i.b,Object(l.a)(Object(l.a)({},r),{},{render:function(e){return a&&"user"===s.user.roles[0].name?Object(j.jsx)(t,Object(l.a)({},e)):Object(j.jsx)(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},p=r(9),h=r.n(p),f=r(20),O=r(13),x=r(7),g=r(16),v=r.n(g),_=function(e){var t=e.loading,r=e.submit,n=e.children;return Object(j.jsx)("div",{className:"form-group d-flex justify-content-center mt-5 mb-3",children:Object(j.jsxs)("button",{disabled:t,className:"btn btn-primary ",onClick:r,children:[t&&Object(j.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(j.jsxs)("span",{children:[" ",n]})]})})},N="REGISTER_SUCCESS",S="REGISTER_FAIL",y="LOGIN_SUCCESS",k="LOGIN_FAIL",w="LOGOUT",C="SET_MESSAGE",I="CLEAR_MESSAGE",F="GETUSERS_SUCCESS",L="GETUSERS_FAIL",E="GETCURRENTPAGE_SUCCESS",A="GETLOGS_SUCCESS",U="GETLOGS_FAIL",D=r(15),T=r.n(D),P="http://34.210.129.167/api/",H=function(e,t,r,n,a){return T.a.post(P+"register",{firstName:e,lastName:t,email:r,password:n,password_confirmation:a})},G=function(e,t){return T.a.post(P+"login",{email:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))},B=function(){localStorage.removeItem("user")},R=function(e,t,r,n,a){return function(s){return H(e,t,r,n,a).then((function(e){return s({type:N}),s({type:C,payload:e.data.message}),Promise.resolve()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return s({type:S}),s({type:C,payload:t}),Promise.reject()}))}},W="http://34.210.129.167/api/users",M=function(e){return T.a.get(W,{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.data}))},z=function(e,t){return T.a.post(W,{firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password,password_confirmation:e.password_confirmation,userType:e.userType},{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.data}))},Y=function(e,t){return T.a.delete(W+"/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.data}))},q=function(e,t,r){return T.a.put(W+"/".concat(e),{firstName:t.firstName,lastName:t.lastName,email:t.email,password:t.password,password_confirmation:t.password_confirmation,userType:t.userType},{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){return e.data}))},V=function(e,t){return T.a.get("".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.data}))},Q=function(e){return function(t){return M(e).then((function(e){return t({type:F,payload:{users:e.users}}),Promise.resolve()}),(function(e){var r=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return t({type:L}),t({type:C,payload:r}),Promise.reject()}))}},J=function(e,t,r){return function(n){return q(e,t,r).then((function(e){return n({type:"EDITUSER_SUCCESS",payload:{user:e}}),Promise.resolve()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return n({type:"EDITUSER_FAIL"}),n({type:C,payload:t}),Promise.reject()}))}},X=function(e,t){return function(r){return Y(e,t).then((function(e){return r({type:"DELUSER_SUCCESS",payload:{user:e}}),Promise.resolve()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return r({type:"DELUSER_FAIL"}),r({type:C,payload:t}),Promise.reject()}))}},K=function(e,t){return function(r){return V(e,t).then((function(e){return r({type:E,payload:{users:e.users}}),Promise.resolve()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return r({type:L}),r({type:C,payload:t}),Promise.reject()}))}},Z=function(){return{type:I}},$=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.message})).message,r=Object(u.c)((function(e){return e.auth})).user,a=Object(n.useState)(!1),s=Object(x.a)(a,2),c=s[0],o=s[1],i=Object(n.useState)(!1),d=Object(x.a)(i,2),m=d[0],b=d[1],p=Object(n.useState)({firstName:"",lastName:"",email:"",password:"",password_confirmation:""}),g=Object(x.a)(p,2),N=g[0],S=g[1],y=function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(Object(l.a)(Object(l.a)({},N),{},Object(f.a)({},t.target.name,t.target.value)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var t=Object(O.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault(),b(!1),o(!0),e(R(N.firstName,N.lastName,N.email,N.password,N.password_confirmation)).then((function(){b(!0),o(!1)})).catch((function(){b(!1),o(!1)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){S({}),e(Z())}),[]),Object(j.jsxs)("div",{className:v.a.formWrapper,children:[Object(j.jsx)("div",{className:v.a.formTitle,children:r?"Add User Form":"Registration Form"}),Object(j.jsxs)("form",{className:v.a.form,children:[!m&&Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:v.a.formInputField,children:[Object(j.jsx)("label",{children:"First Name"}),Object(j.jsx)("input",{type:"text",id:"fname",name:"firstName",placeholder:"Your name..",onChange:y,value:N.firstName,className:v.a.formInput,required:!0})]}),Object(j.jsxs)("div",{className:v.a.formInputField,children:[Object(j.jsx)("label",{children:"Last Name"}),Object(j.jsx)("input",{type:"text",id:"lname",name:"lastName",placeholder:"Your last name..",onChange:y,value:N.lastName,className:v.a.formInput,required:!0})]}),Object(j.jsxs)("div",{className:v.a.formInputField,children:[Object(j.jsx)("label",{children:"Email Address"}),Object(j.jsx)("input",{type:"text",id:"email",name:"email",placeholder:"Your email Address..",onChange:y,value:N.email,className:v.a.formInput,required:!0})]}),Object(j.jsxs)("div",{className:v.a.formInputField,children:[Object(j.jsx)("label",{children:"Password"}),Object(j.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"Your password..",onChange:y,value:N.password,className:v.a.formInput,required:!0})]}),Object(j.jsxs)("div",{className:v.a.formInputField,children:[Object(j.jsx)("label",{children:"Confirm Password"}),Object(j.jsx)("input",{type:"password",id:"password_confirmation",name:"password_confirmation",placeholder:"Confirm Password",onChange:y,value:N.password_confirmation,className:v.a.formInput,required:!0})]}),r?Object(j.jsx)(_,{loading:c,submit:function(t){t.preventDefault(),b(!1),o(!0);var n,a,s=Object(l.a)(Object(l.a)({},N),{},{userType:"user"});e((n=s,a=r.token,function(e){return z(n,a).then((function(t){return e({type:"ADDUSER_SUCCESS",payload:{user:t}}),Promise.resolve()}),(function(t){var r=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();return e({type:"ADDUSER_FAIL"}),e({type:C,payload:r}),Promise.reject()}))})).then((function(){b(!0),o(!1)})).catch((function(){b(!1),o(!1)}))},children:"Add Regular User"}):Object(j.jsx)(_,{loading:c,submit:k,children:"Register"})]}),t&&Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("div",{className:m?"alert alert-success":"alert alert-danger",role:"alert",children:t})})]})]})},ee=function(){return Object(j.jsx)(a.a.Fragment,{children:Object(j.jsx)($,{})})},te=r(25),re=r.n(te),ne=function(e){var t=Object(u.b)(),r=Object(u.c)((function(e){return e.auth})).isLoggedIn,a=Object(u.c)((function(e){return e.message})).message,s=Object(n.useState)(!1),c=Object(x.a)(s,2),o=c[0],d=c[1],m=Object(n.useState)({email:"",password:""}),b=Object(x.a)(m,2),p=b[0],g=b[1],v=function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(Object(l.a)(Object(l.a)({},p),{},Object(f.a)({},t.target.name,t.target.value)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(r){var n,a;r.preventDefault(),d(!0),t((n=p.email,a=p.password,function(e){return G(n,a).then((function(t){return e({type:y,payload:{user:t}}),Promise.resolve()}),(function(t){var r=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();return e({type:k}),e({type:C,payload:r}),Promise.reject()}))})).then((function(){e.history.push("/dashboard"),window.location.reload()})).catch((function(){d(!1)}))};return Object(n.useEffect)((function(){g({}),t(Z())}),[]),r?Object(j.jsx)(i.a,{to:"/dashboard"}):Object(j.jsxs)("div",{className:re.a.formWrapper,children:[Object(j.jsx)("div",{className:re.a.formTitle,children:"Login Form"}),Object(j.jsxs)("form",{onSubmit:N,className:re.a.form,children:[Object(j.jsxs)("div",{className:re.a.formInputField,children:[Object(j.jsx)("label",{children:"Email Address"}),Object(j.jsx)("input",{type:"text",id:"email",name:"email",placeholder:"Your email Address",onChange:v,value:p.email||"",className:re.a.formInput,required:!0})]}),Object(j.jsxs)("div",{className:re.a.formInputField,children:[Object(j.jsx)("label",{children:"Password"}),Object(j.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"Your password",onChange:v,value:p.password||"",className:re.a.formInput,required:!0})]}),Object(j.jsx)(_,{loading:o,submit:N,children:"Login"}),a&&Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("div",{className:"alert alert-danger",role:"alert",children:a})})]})]})},ae=function(){return Object(j.jsx)(ne,{})},se=r(14),ce=Object(se.a)(),oe={on:function(e,t){document.addEventListener(e,(function(e){return t(e.detail)}))},dispatch:function(e,t){document.dispatchEvent(new CustomEvent(e,{detail:t}))},remove:function(e,t){document.removeEventListener(e,t)}},ie=function(){var e=Object(n.useState)(!1),t=Object(x.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(!1),c=Object(x.a)(s,2),i=c[0],l=c[1],d=Object(n.useState)(!1),m=Object(x.a)(d,2),b=m[0],p=m[1],h=Object(u.c)((function(e){return e.auth})).user,f=Object(u.b)(),O=function(){f(Z())};Object(n.useEffect)((function(){ce.listen((function(e){f(Z())}))}),[f]);var g=Object(n.useCallback)((function(){f((function(e){B(),e({type:w})}))}),[f]);Object(n.useEffect)((function(){if(h){var e=h.user.roles[0].name;"manager"===e&&l(!0),"admin"===e&&a(!0),"user"===e&&p(!0)}else l(!1),a(!1),p(!1);return oe.on("logout",(function(){g()})),function(){oe.remove("logout")}}),[h,g]);var v=Object(n.useState)(""),_=Object(x.a)(v,2),N=_[0],S=_[1],y=Object(n.useState)(""),k=Object(x.a)(y,2),C=k[0],I=k[1];return Object(j.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[h?Object(j.jsx)(o.b,{to:"/dashboard",className:"navbar-brand text-dark mx-3 px-3",onClick:O,children:"UMSYS"}):Object(j.jsx)(o.b,{to:"/login",className:"navbar-brand text-dark mx-3 px-3",onClick:O,children:"UMSYS"}),Object(j.jsx)("button",{onClick:function(){S(""===N?"on":""),I(""===C?"show":"")},className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{className:"navbar-toggler-icon"})}),Object(j.jsx)("div",{className:"collapsed ".concat(C),id:"navbarNavDropdown",children:Object(j.jsxs)("div",{className:"navbar-nav mx-auto",children:[i&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(o.b,{to:"/dashboard",className:"nav-link text-dark",onClick:O,children:"My Dashboard"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(o.b,{to:"/addUser",className:"nav-link text-dark",onClick:O,children:"Add User"})})]}),r&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(o.b,{to:"/dashboard",className:"nav-link text-dark",onClick:O,children:"Dashboard"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(o.b,{to:"/addUser",className:"nav-link text-dark",onClick:O,children:"Add Users"})})]}),b&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(o.b,{to:"/dashboard",className:"nav-link text-dark",onClick:O,children:"My Dashboard"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(o.b,{to:"/addLog",className:"nav-link text-dark",onClick:O,children:"Add Log"})})]}),h?Object(j.jsx)("div",{className:"navbar-nav mx-auto",children:Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(o.b,{to:"/login",className:"nav-link text-danger",onClick:g,children:"LogOut"})})}):Object(j.jsxs)("div",{className:"navbar-nav mx-auto",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(o.b,{to:"/login",className:"nav-link text-dark",children:"Login"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(o.b,{to:"/register",className:"nav-link text-dark",children:"Sign Up"})})]})]})})]})},le=function(){var e=Object(u.c)((function(e){return e.auth})).user,t=Object(j.jsx)("h5",{children:"How are you doing today :)"});return"manager"===e.user.roles[0].name&&(t=Object(j.jsxs)("h5",{children:["See how your ",Object(j.jsx)("strong",{children:"Users"})," are doing today :)"]})),"user"===e.user.roles[0].name&&(t=Object(j.jsxs)("h5",{children:["See how are your ",Object(j.jsx)("strong",{children:"Logs"})," :)"]})),e?Object(j.jsx)("div",{className:"container p-2 my-4",children:Object(j.jsxs)("header",{className:"jumbotron userHeader",children:[Object(j.jsxs)("h3",{children:["Welcome ",Object(j.jsxs)("strong",{children:[e.user.firstName," "]})]}),Object(j.jsx)("p",{children:t})]})}):Object(j.jsx)(i.a,{to:"/login"})},de=function(e,t){return T.a.get("http://34.210.129.167/api/user/".concat(e,"/work-logs"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.data.workLogs.data}))},ue=function(e,t){return T.a.post("http://34.210.129.167/api/work-logs",{logDate:t.logDate,hours:t.hours,description:t.description},{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.data}))},je=function(e,t,r){return T.a.patch("http://34.210.129.167/api/users/".concat(e,"/preferred-working-hours"),{workingHours:t},{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){return e.data}))},me=function(e,t,r,n){return T.a.put("http://34.210.129.167/api/user/".concat(t,"/work-logs/").concat(e),{logDate:r.logDate,hours:r.hours,description:r.description},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){return e.data}))},be=function(e,t){return function(r){return de(e,t).then((function(e){return r({type:A,payload:{Logs:e}}),Promise.resolve()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return r({type:U}),r({type:C,payload:t}),Promise.reject()}))}},pe=function(e,t){return function(r){return ue(e,t).then((function(e){return r({type:"ADDLOG_SUCCESS",payload:{LOG:e}}),Promise.resolve()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return r({type:"ADDLOG_FAIL"}),r({type:C,payload:t}),Promise.reject()}))}},he=function(e,t,r,n){return function(a){return me(e,t,r,n).then((function(e){return a({type:"EDITLOG_SUCCESS",payload:{LOG:e}}),Promise.resolve()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return a({type:"EDITLOG_FAIL"}),a({type:C,payload:t}),Promise.reject()}))}},fe=function(e,t,r){return function(n){return je(e,parseInt(t),r).then((function(e){return n({type:"PATCHLOG_SUCCESS",payload:{LOG:e}}),Promise.resolve()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return n({type:"PATCHLOG_FAIL"}),n({type:C,payload:t}),Promise.reject()}))}},Oe=r(96),xe=r(97),ge=r(98),ve=r(30),_e=r(101),Ne=function(e){var t=e.user,r=e.users,n=e.usersListing,a=e.delUser,s=e.dispatch;return Object(j.jsxs)("div",{className:" ",children:[Object(j.jsx)("div",{children:r?Object(j.jsx)(ve.CSVLink,{data:r,headers:[{label:"Id",key:"id"},{label:"First Name",key:"firstName"},{label:"Last Name",key:"lastName"},{label:"Email",key:"email"},{label:"Working Hours",key:"working_hours"}],filename:"Users Report.csv",children:"Export to CSV"}):""}),Object(j.jsx)("div",{className:"table-responsive",children:Object(j.jsxs)("table",{className:"table text-center table-bordered table-dark",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"Id #"}),Object(j.jsx)("th",{scope:"col",children:"First Name"}),Object(j.jsx)("th",{scope:"col",children:"Last Name"}),Object(j.jsx)("th",{scope:"col",children:"Email"}),Object(j.jsx)("th",{scope:"col",children:"Working Hours"}),Object(j.jsx)("th",{scope:"col",children:"Edit"}),Object(j.jsx)("th",{scope:"col",children:"Delete"}),Object(j.jsx)("th",{scope:"col",children:"Logs"})]})}),Object(j.jsx)("tbody",{children:r?r.map((function(e){var r=e.id;return Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"row",children:e.id}),Object(j.jsx)("td",{children:e.firstName}),Object(j.jsx)("td",{children:e.lastName}),Object(j.jsx)("td",{children:e.email}),Object(j.jsx)("td",{children:e.working_hours?e.working_hours:"-"}),Object(j.jsx)("td",{children:Object(j.jsx)(o.b,{to:"/editUser/".concat(r),children:Object(j.jsx)(Oe.a,{color:"white",size:26})})}),Object(j.jsx)("td",{onClick:function(){return s(a(e.id,t.token))},children:Object(j.jsx)(xe.a,{size:26})}),Object(j.jsx)("td",{onClick:function(){return s(be(e.id,t.token))},children:Object(j.jsx)(o.b,{to:"/logs/".concat(r),children:Object(j.jsx)(ge.a,{color:"white",size:26})})})]},e.id)})):Object(j.jsx)("tr",{children:Object(j.jsx)("td",{children:"You have no Users Added... Maybe Add One?"})})}),n.prev_page_url&&Object(j.jsx)(_e.a,{className:"btn btn-primary",onClick:function(){return s(K(t.token,n.prev_page_url))},children:"Previous Page"}),n.next_page_url&&Object(j.jsx)(_e.a,{className:"btn btn-primary p-2 m-2",onClick:function(){return s(K(t.token,n.next_page_url))},children:"Next Page"})]})}),Object(j.jsx)("div",{})]})},Se=r(100),ye=function(e){var t=e.handleClose,r=Object(u.b)(),a=Object(u.c)((function(e){return e.auth})).user,s=Object(n.useState)(0),c=Object(x.a)(s,2),o=c[0],i=c[1],l=function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r(fe(a.user.id,o,a.token));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Work Hours"}),Object(j.jsx)("input",{type:"number",id:"workingHours",name:"workingHours",onChange:function(e){i(e.target.value)},value:o,className:"form-control"})]}),Object(j.jsxs)(Se.a.Footer,{children:[Object(j.jsx)(_e.a,{variant:"secondary",onClick:t,children:"Close"}),Object(j.jsx)(_e.a,{variant:"primary",onClick:l,children:"Add Prefered Working Hours"})]})]})},ke=r(99),we=function(e){var t=e.workingHours,r=e.logs,a=Object(n.useState)(!1),s=Object(x.a)(a,2),c=s[0],i=s[1],l=function(){return i(!1)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"d-flex flex-row-reverse",children:r?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ke.a,{className:"m-3",size:26,onClick:function(){return i(!0)}}),Object(j.jsx)("span",{className:"mt-3",children:"Set Work Hours "}),Object(j.jsxs)(Se.a,{show:c,onHide:l,children:[Object(j.jsx)(Se.a.Header,{children:Object(j.jsx)(Se.a.Title,{children:"Set Prefered Working Hours"})}),Object(j.jsx)(Se.a.Body,{children:Object(j.jsx)(ye,{handleClose:l})})]}),Object(j.jsx)(ve.CSVLink,{className:"m-3",data:r,headers:[{label:"Id",key:"id"},{label:"Log Date",key:"log_date"},{label:"Hours",key:"hours"},{label:"Description",key:"description"}],filename:"Logs Report.csv",children:"Export to CSV"})]}):""}),Object(j.jsx)("div",{className:"table-responsive",children:Object(j.jsxs)("table",{className:"table text-center table-bordered table-dark",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"Id #"}),Object(j.jsx)("th",{scope:"col",children:"Log Date"}),Object(j.jsx)("th",{scope:"col",children:"Hours"}),Object(j.jsx)("th",{scope:"col",children:"Description"}),Object(j.jsx)("th",{scope:"col",children:"Edit Logs"})]})}),Object(j.jsx)("tbody",{children:r?r.map((function(e){var r=e.id;return e.hours<t?Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"row",children:e.id}),Object(j.jsx)("td",{children:e.log_date}),Object(j.jsx)("td",{className:"bg-danger text-red",children:e.hours?e.hours:"-"}),Object(j.jsx)("td",{children:e.description}),Object(j.jsx)("td",{children:Object(j.jsx)(o.b,{to:"/updatelog/".concat(r),children:Object(j.jsx)(Oe.a,{color:"white",size:26})})})]},e.id):Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"row",children:e.id}),Object(j.jsx)("td",{children:e.log_date}),Object(j.jsx)("td",{children:e.hours?e.hours:"-"}),Object(j.jsx)("td",{children:e.description}),Object(j.jsx)("td",{children:Object(j.jsx)(o.b,{to:"/updatelog/".concat(r),children:Object(j.jsx)(Oe.a,{color:"white",size:26})})})]},e.id)})):Object(j.jsx)("tr",{children:Object(j.jsx)("td",{children:"You have no Logs Added... Maybe Add One?"})})})]})})]})},Ce=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth})).user,r=Object(u.c)((function(e){return e.users})).users,a=Object(u.c)((function(e){return e.logs})).logs,s=Object(n.useState)(!1),c=Object(x.a)(s,2),o=c[0],i=c[1],l=Object(n.useState)(!1),d=Object(x.a)(l,2),m=d[0],b=d[1],p=Object(n.useState)(!1),h=Object(x.a)(p,2),f=h[0],O=h[1];return Object(n.useEffect)((function(){if(t){var r=t.user.roles[0].name;"manager"===r&&(b(!0),e(Q(t.token))),"admin"===r&&(i(!0),e(Q(t.token)),e(be(t.user.id,t.token))),"user"===r&&(O(!0),e(be(t.user.id,t.token)))}else b(!1),i(!1),O(!1)}),[t]),Object(j.jsxs)("div",{children:[t&&r&&o&&Object(j.jsx)(Ne,{user:t,users:r.data,usersListing:r,workingHours:t.user.working_hours,logs:a,dispatch:e}),r&&m&&Object(j.jsx)(Ne,{user:t,users:r.data,usersListing:r,delUser:X,dispatch:e}),f&&a&&Object(j.jsx)(we,{workingHours:t.user.working_hours,logs:a})]})},Ie=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(le,{}),Object(j.jsx)("div",{className:"w-75 p-3 mx-auto",style:{backgroundColor:"#eee"},children:Object(j.jsx)(Ce,{})})]})},Fe=function(){return Object(j.jsx)($,{})},Le=r(17),Ee=r.n(Le),Ae=function(){var e=Object(i.g)().id,t=Object(u.b)(),r=Object(u.c)((function(e){return e.auth})).user,a=Object(u.c)((function(e){return e.users})).users,s=Object(u.c)((function(e){return e.message})).message,c=Object(n.useState)(!1),o=Object(x.a)(c,2),d=o[0],m=o[1],b=Object(n.useState)(!1),p=Object(x.a)(b,2),g=p[0],v=p[1],N=Object(n.useState)({firstName:"",lastName:"",email:"",password:"",password_confirmation:"",userType:"users"}),S=Object(x.a)(N,2),y=S[0],k=S[1];Object(n.useEffect)((function(){if(a.data){var t=a.data.find((function(t){return t.id.toString()===e.toString()}));k({firstName:t.firstName,lastName:t.lastName,email:t.email})}}),[a]);var w=function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(Object(l.a)(Object(l.a)({},y),{},Object(f.a)({},t.target.name,t.target.value)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var n=Object(O.a)(h.a.mark((function n(a){var s;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.preventDefault(),v(!1),m(!0),s=Object(l.a)(Object(l.a)({},y),{},{userType:"user"}),t(J(e,s,r.token)).then((function(){v(!0),m(!1),t(Z())})).catch((function(){v(!1),m(!1)}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:Ee.a.formWrapper,children:[Object(j.jsx)("div",{className:Ee.a.formTitle,children:"Update User"}),Object(j.jsxs)("form",{onSubmit:C,className:Ee.a.form,children:[!g&&Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:Ee.a.formInputField,children:[Object(j.jsx)("label",{children:"First Name"}),Object(j.jsx)("input",{type:"text",id:"fname",name:"firstName",placeholder:"Your name..",onChange:w,value:y.firstName||"",className:Ee.a.formInput})]}),Object(j.jsxs)("div",{className:Ee.a.formInputField,children:[Object(j.jsx)("label",{children:"Last Name"}),Object(j.jsx)("input",{type:"text",id:"lname",name:"lastName",placeholder:"Your last name..",onChange:w,value:y.lastName||"",className:Ee.a.formInput})]}),Object(j.jsxs)("div",{className:Ee.a.formInputField,children:[Object(j.jsx)("label",{children:"Email Address"}),Object(j.jsx)("input",{type:"text",id:"email",name:"email",placeholder:"Your email Address",onChange:w,value:y.email||"",className:Ee.a.formInput})]}),Object(j.jsxs)("div",{className:Ee.a.formInputField,children:[Object(j.jsx)("label",{children:"Password"}),Object(j.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"Your password",onChange:w,value:y.password||"",className:Ee.a.formInput})]}),Object(j.jsxs)("div",{className:Ee.a.formInputField,children:[Object(j.jsx)("label",{children:"Confirm Password"}),Object(j.jsx)("input",{type:"password",id:"password_confirmation",name:"password_confirmation",placeholder:"Confirm Password",onChange:w,value:y.password_confirmation||"",className:Ee.a.formInput})]}),Object(j.jsx)(_,{loading:d,submit:C,children:"Update User"})]}),s&&Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("div",{className:g?"alert alert-success":"alert alert-danger",role:"alert",children:s})})]})]})},Ue=r(24),De=r.n(Ue),Te=function(){var e=Object(n.useState)({logDate:"",hours:0,description:""}),t=Object(x.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(!1),c=Object(x.a)(s,2),o=c[0],i=c[1],d=Object(n.useState)(!1),m=Object(x.a)(d,2),b=m[0],p=m[1],g=Object(u.c)((function(e){return e.message})).message,v=Object(u.c)((function(e){return e.auth})).user,N=Object(u.b)(),S=function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(Object(l.a)(Object(l.a)({},r),{},Object(f.a)({},t.target.name,t.target.value)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),p(!1),i(!0),N(pe(v.token,r)).then((function(){p(!0),i(!1)})).catch((function(){p(!1),i(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){a({}),N(Z())}),[]),Object(j.jsxs)("div",{className:De.a.formWrapper,children:[Object(j.jsx)("div",{className:De.a.formTitle,children:Object(j.jsx)("h2",{children:"Add Logs"})}),Object(j.jsxs)("form",{className:De.a.form,children:[!b&&Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:De.a.formInputField,children:[Object(j.jsx)("label",{children:"Log Date"}),Object(j.jsx)("input",{type:"date",id:"logDate",name:"logDate",onChange:S,value:r.logDate,className:De.a.formInput,required:!0})]}),Object(j.jsxs)("div",{className:De.a.formInputField,children:[Object(j.jsx)("label",{children:"Work Hours"}),Object(j.jsx)("input",{type:"number",min:"1",id:"hours",name:"hours",onChange:S,value:r.hours,className:De.a.formInput,required:!0})]}),Object(j.jsxs)("div",{className:De.a.formInputField,children:[Object(j.jsx)("label",{children:"Description"}),Object(j.jsx)("textarea",{type:"text",id:"description",name:"description",placeholder:"Document your log Here...",onChange:S,value:r.description,className:De.a.formInput,required:!0})]}),Object(j.jsx)(_,{loading:o,submit:y,children:"Add Log"})]}),g&&Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("div",{className:"alert alert-danger",role:"alert",children:g})})]})]})},Pe=function(e){var t=e.id,r=e.logs,a=e.user,s=Object(u.b)(),c=Object(u.c)((function(e){return e.message})).message,o=Object(n.useState)(""),i=Object(x.a)(o,2),d=i[0],m=i[1],b=Object(n.useState)(!1),p=Object(x.a)(b,2),g=p[0],v=p[1],N=Object(n.useState)(!1),S=Object(x.a)(N,2),y=S[0],k=S[1],w=Object(n.useState)({logDate:"",hours:0,description:""}),C=Object(x.a)(w,2),I=C[0],F=C[1];Object(n.useEffect)((function(){if(r.length>0){var e=r.find((function(e){return e.id.toString()===t.toString()}));console.log(e),m(e.user_id),F({logDate:e.log_date,hours:e.hours,description:e.description})}}),[r]);var L=function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(Object(l.a)(Object(l.a)({},I),{},Object(f.a)({},t.target.name,t.target.value)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(O.a)(h.a.mark((function e(r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),k(!1),v(!0),s(he(t,d,I,a.token)).then((function(){k(!0),v(!1),s(Z())})).catch((function(){k(!1),v(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"unix-login",children:Object(j.jsx)("div",{className:"container-fluid",children:Object(j.jsx)("div",{className:"row justify-content-center",children:Object(j.jsx)("div",{className:"col-lg-6",children:Object(j.jsx)("div",{className:"login-content",children:Object(j.jsxs)("div",{className:"login-form",children:[Object(j.jsx)("h4",{children:"Update Log"}),Object(j.jsxs)("form",{children:[!y&&Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Log Date"}),Object(j.jsx)("input",{type:"date",id:"logDate",name:"logDate",onChange:L,value:I.logDate,className:"form-control"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Work Hours"}),Object(j.jsx)("input",{type:"number",min:"1",id:"hours",name:"hours",onChange:L,value:I.hours,className:"form-control"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Description"}),Object(j.jsx)("input",{type:"text",id:"description",name:"description",placeholder:"Document your log Here...",onChange:L,value:I.description,className:"form-control"})]}),Object(j.jsx)(_,{loading:g,submit:E,children:"Add Log"})]}),c&&Object(j.jsx)("div",{classNameName:"form-group",children:Object(j.jsx)("div",{classNameName:y?"alert alert-success":"alert alert-danger",role:"alert",children:c})})]})]})})})})})})},He=function(){var e=Object(i.g)().id,t=Object(u.c)((function(e){return e.logs})).logs,r=Object(u.c)((function(e){return e.auth})).user;return Object(j.jsx)(Pe,{id:e,logs:t,user:r})},Ge=function(){var e=Object(u.c)((function(e){return e.auth})).user,t=Object(u.c)((function(e){return e.logs})).logs;return Object(j.jsx)(j.Fragment,{children:e&&t&&Object(j.jsx)(we,{workingHours:e.user.working_hours,logs:t})})},Be=r(35),Re=r.n(Be),We=function(){return Object(j.jsx)("footer",{className:Re.a.footer,children:Object(j.jsxs)("small",{className:Re.a.copyright,children:["Copyrights \xa9 2021 All Rights Reserved By",Object(j.jsx)(o.b,{to:"https://github.com/zainuleb",children:" zainuleb"}),"."]})})},Me=r(50),ze=r.n(Me),Ye=function(){return Object(j.jsxs)("div",{className:ze.a.heroContainer,children:[Object(j.jsx)("h1",{children:"Time Management System"}),Object(j.jsx)("p",{children:"What are you waiting for?"})]})},qe=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(Ye,{})})};var Ve=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("script",{src:"https://unpkg.com/react-dom/umd/react-dom.production.min.js"}),Object(j.jsx)(ie,{}),Object(j.jsxs)(i.d,{children:[Object(j.jsx)(i.b,{path:"/",component:qe,exact:!0}),Object(j.jsx)(i.b,{path:"/login",component:ae}),Object(j.jsx)(i.b,{path:"/register",component:ee}),Object(j.jsx)(i.b,{path:"/dashboard",component:Ie}),Object(j.jsx)(i.b,{path:"/addUser",component:Fe}),Object(j.jsx)(i.b,{path:"/editUser/:id",component:Ae}),Object(j.jsx)(i.b,{path:"/addLog",component:Te}),Object(j.jsx)(i.b,{path:"/updatelog/:id",component:He}),Object(j.jsx)(i.b,{path:"/logs/:id",component:Ge}),Object(j.jsx)(b,{path:"/addLog",component:Te}),Object(j.jsx)(b,{path:"/updatelog/:id",component:He})]}),Object(j.jsx)(We,{})]})},Qe=r(26),Je=JSON.parse(localStorage.getItem("user")),Xe=Je?{isLoggedIn:!0,user:Je}:{isLoggedIn:!1,user:null};var Ke={message:""};var Ze={users:null};var $e={logs:null};var et=Object(Qe.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case N:case S:return Object(l.a)(Object(l.a)({},e),{},{isLoggedIn:!1});case y:return Object(l.a)(Object(l.a)({},e),{},{isLoggedIn:!0,user:n.user});case k:case w:return Object(l.a)(Object(l.a)({},e),{},{isLoggedIn:!1,user:null});default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case C:return{message:n};case I:return{message:""};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case F:case E:return Object(l.a)(Object(l.a)({},e),{},{users:n.users});case L:return Object(l.a)({},e);default:return e}},logs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case A:return Object(l.a)(Object(l.a)({},e),{},{logs:n.Logs});case U:return Object(l.a)({},e);default:return e}}}),tt=et,rt=r(51),nt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Qe.c,at=Object(Qe.d)(tt,nt(Object(Qe.a)(rt.a)));c.a.render(Object(j.jsx)(u.a,{store:at,children:Object(j.jsx)(o.a,{children:Object(j.jsx)(Ve,{})})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.65585a4b.chunk.js.map